"use strict";var __awaiter=this&&this.__awaiter||function(t,a,i,e){return new(i||(i=Promise))(function(n,r){function s(t){try{u(e.next(t))}catch(a){r(a)}}function o(t){try{u(e.throw(t))}catch(a){r(a)}}function u(t){var a;t.done?n(t.value):((a=t.value)instanceof i?a:new i(function(t){t(a)})).then(s,o)}u((e=e.apply(t,a||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const WaliSantri_1=__importDefault(require("../models/WaliSantri"));function createWaliSantri(t,a){return __awaiter(this,void 0,void 0,function*(){try{let{nis:i,kode_entitas:e,nama_wali_santri:n,informasi_tambahan_wali_santri:r}=t.body,s=yield WaliSantri_1.default.create({nis:i,kode_entitas:e,nama_wali_santri:n,informasi_tambahan_wali_santri:r});a.status(201).json(s)}catch(o){a.status(500).json({error:o.message})}})}function getWaliSantriList(t,a){return __awaiter(this,void 0,void 0,function*(){try{let t=yield WaliSantri_1.default.findAll();a.status(200).json(t)}catch(i){a.status(500).json({error:i.message})}})}function getWaliSantriByNIS(t,a){return __awaiter(this,void 0,void 0,function*(){try{let i=yield WaliSantri_1.default.findByPk(t.params.nis);a.status(200).json(i)}catch(e){a.status(500).json({error:e.message})}})}function updateWaliSantri(t,a){return __awaiter(this,void 0,void 0,function*(){try{let{kode_entitas:i,nama_wali_santri:e,informasi_tambahan_wali_santri:n}=t.body,r=yield WaliSantri_1.default.findByPk(t.params.nis);r?(yield r.update({kode_entitas:i,nama_wali_santri:e,informasi_tambahan_wali_santri:n}),a.status(200).json(r)):a.status(404).json({error:"Guardian not found"})}catch(s){a.status(500).json({error:s.message})}})}function deleteWaliSantri(t,a){return __awaiter(this,void 0,void 0,function*(){try{let i=yield WaliSantri_1.default.findByPk(t.params.nis);i?(yield i.destroy(),a.status(200).json({message:"Guardian deleted successfully"})):a.status(404).json({error:"Guardian not found"})}catch(e){a.status(500).json({error:e.message})}})}exports.default={createWaliSantri,getWaliSantriList,getWaliSantriByNIS,updateWaliSantri,deleteWaliSantri};
