"use strict";var __awaiter=this&&this.__awaiter||function(t,a,e,s){return new(e||(e=Promise))(function(i,n){function r(t){try{u(s.next(t))}catch(a){n(a)}}function o(t){try{u(s.throw(t))}catch(a){n(a)}}function u(t){var a;t.done?i(t.value):((a=t.value)instanceof e?a:new e(function(t){t(a)})).then(r,o)}u((s=s.apply(t,a||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const TransaksiDetail_1=__importDefault(require("../models/TransaksiDetail"));function createTransaksiDetail(t,a){return __awaiter(this,void 0,void 0,function*(){try{let{kode_transaksi_detail:e,kode_transaksi:s,kode_akun:i,kode_jenis_transaksi:n,tipe_transaksi:r,jumlah:o,tanggal_transaksi:u}=t.body,l=yield TransaksiDetail_1.default.create({kode_transaksi_detail:e,kode_transaksi:s,kode_akun:i,kode_jenis_transaksi:n,tipe_transaksi:r,jumlah:o,tanggal_transaksi:u});a.status(201).json(l)}catch(d){a.status(500).json({error:d.message})}})}function getTransaksiDetailList(t,a){return __awaiter(this,void 0,void 0,function*(){try{let t=yield TransaksiDetail_1.default.findAll();a.status(200).json(t)}catch(e){a.status(500).json({error:e.message})}})}function getTransaksiDetailById(t,a){return __awaiter(this,void 0,void 0,function*(){try{let e=yield TransaksiDetail_1.default.findByPk(t.params.id);a.status(200).json(e)}catch(s){a.status(500).json({error:s.message})}})}function updateTransaksiDetail(t,a){return __awaiter(this,void 0,void 0,function*(){try{let{kode_transaksi:e,kode_akun:s,kode_jenis_transaksi:i,tipe_transaksi:n,jumlah:r,tanggal_transaksi:o}=t.body,u=yield TransaksiDetail_1.default.findByPk(t.params.id);u?(yield u.update({kode_transaksi:e,kode_akun:s,kode_jenis_transaksi:i,tipe_transaksi:n,jumlah:r,tanggal_transaksi:o}),a.status(200).json(u)):a.status(404).json({error:"Transaction detail not found"})}catch(l){a.status(500).json({error:l.message})}})}function deleteTransaksiDetail(t,a){return __awaiter(this,void 0,void 0,function*(){try{let e=yield TransaksiDetail_1.default.findByPk(t.params.id);e?(yield e.destroy(),a.status(200).json({message:"Transaction detail deleted successfully"})):a.status(404).json({error:"Transaction detail not found"})}catch(s){a.status(500).json({error:s.message})}})}exports.default={createTransaksiDetail,getTransaksiDetailList,getTransaksiDetailById,updateTransaksiDetail,deleteTransaksiDetail};
